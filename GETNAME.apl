    ∇ Z←GETNAME;T;F;⎕ELX;N;Q;X;err[1]   ⍝Return computer name[2]   ⍝New version gets it from ipconfig[3]   ⍝Tested on WinServer 2003, XP, Win 7[4]   ⍝B. Compton, 23 Mar 2011[5]   ⍝25 Apr 2011: will have collisions on name file!  Give it a random name.[6]   ⍝27 Apr 2011: try again if GETNAME fails[7]   ⍝14 Feb 2013: add name stripping; 22 Apr 2013: add a default for it[8]   ⍝1 Oct 2013: use global name if it's set to prevent multiple calls; 20 Nov: no, use 'computername'[9]   ⍝20 Nov 2013: Wait a half-second after ⎕CMD to allow file system to catch up[10]  ⍝19 Dec 2013: add Edi's new C version[11]  [12]  [13]  [14]   :if 0≠⎕NC 'computername'   ⍝If we already have global 'computername', use it[15]      Z←computername[16]      →0[17]   :end[18]  [19]   →(aplc=1)/L1                               ⍝If C version,[20]   →(3=⎕NC'GETNAMEc')/L0                       ⍝   If not loaded,[21]   Q←⎕EX 'GETNAMEc'[22]   ⎕ERROR REPORTC 'DLL I4←CAPS_LIB.computername(*C1←)' ⎕NA 'GETNAMEc'[23]  [24]  L0:X←(31⍴' '),⎕TCNUL[25]   err Z ← GETNAMEc ⊂X[26]   Z←FRDBL (Z≠⎕TCNUL)/Z[27]   ⎕ERROR REPORTC err[28]   →L2[29]  [30]  [31]   ⍝APL version:[32]  L1:Z←3 ⎕CMD 'ipconfig /all > ',F←pathA,'zzname',(FRDBL 15 0⍕?1E15),'.tmp'[33]   T←⎕DL .5[34]   Z←NREAD F[35]   NDROP F[36]   Z←(+/^\~Z ⎕SS 'Host Name')↓Z[37]   Z←FRDBL (¯1+Z⍳⎕TCNL)↑Z←(Z⍳':')↓Z[38]   →(~0∊⍴Z)/L2[39]   ⎕←'*** Failure in GETNAME! Trying again...',⎕TCBEL[40]   →L1[41]  [42]  [43]  L2:N←'umanrc' ⋄ ⍎(0≠⎕NC 'namestrip')/'N←namestrip'[44]   Z←TOUPPER ((⍴N)×^/(TOUPPER N)=TOUPPER(⍴N)↑Z)↓Z[45]   computername←Z    ∇