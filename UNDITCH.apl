    ∇ UNDITCH;X;Y;B;E;F;I[1]   ⍝Remove straight lines (=ditches) from NHD streamlines, in order to find real streams[2]   ⍝Part of data creation for LCC DSL ditches metric[3]   ⍝Data are prepped with getstreams.aml[4]   ⍝B. Compton, 3 Aug 2015[5]   [6]   [7]   JUNK[8]   [9]    F←'d:\LCC\ditches\working\streams3.txt'[10]   X←MATIN F                                  ⍝Read x1,y1,x2,y2[11]   Y←((2×1↑⍴X),2)⍴X                           ⍝List of points[12]   Y←Y[⍋Y;][13]   B←¯1↓∨/(0⍪Y)≠Y⍪0[14]   E←(1=B pSUM (⍴B)⍴1)⌿B⌿Y                    ⍝Initial list of endpoints--these only occur once[15]  [16]   →(0∊⍴E)/L2                                 ⍝While we still have endpoints, [17]   I←((X[;1 2]^.=E[1;])∨X[;3 4]^.=E[1;])⍳1    ⍝   Find 1st endpoint[18]   [19]   [20]   [21]   [22]   [23]   ASDF    ∇