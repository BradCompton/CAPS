    ∇ P CSE_SCENARIOS V;Q;head;T;pathI;path;pathI;pathM;pathP;pathG;pathR;pathW;pathA;pathE;pathD;pathS;pathT;pathU;pathN;pathF;csewait;F;workspace;onerror;override_pars;scenariosproject[1]   ⍝Run SCENARIOS for CAPS Scenario Engine, path 1⊃⍺, base grids path 2⊃⍺, base IEI path 3⊃⍺, metrics for each scenario 4⊃⍺, project # 5⊃⍺ scenarios ⍵[2]   ⍝Global:[3]   ⍝   cseproject     project name[4]   ⍝B. Compton, 10-13 Jul 2012[5]   ⍝23 Apr 2013: update for changes to SCENARIODELTAS[6]   ⍝7 Jun 2013: force project name for SCENARIOS[7]   ⍝25 Jun 2013: add mask grid to scenarios.par[8]   [9]   [10]  [11]   →reportonly/0[12]   path←1⊃1⊃P                                                             ⍝Reuse path first scenario's path[13]   T←'post',⎕TCHT,cseproject,'post\'                                      ⍝except for post, which is directly under project[14]   (T OVER VTOM ⎕TCNL,NREAD Q) NWRITE Q←(1⊃1⊃P),'paths.par'[15]   SETPATHS[16]  [17]   Q←((⍴V),8)⍴⊂''                                                         ⍝Create scenarios.par[18]   Q[;1]←STRIP¨V                                                          ⍝Create alternate scenarios 1st[19]   Q[;2]←(1⊃P),¨⊂'grids\postland'                                         ⍝landcover is always postland[20]   Q[;3]←(1⊃P),¨⊂'results\'[21]   MAKEDIR T←cseproject,'post\'                                           ⍝deltas go in <project>\post\[22]   Q[;5]←⊂T[23]   Q[;6]←4⊃P                                                              ⍝lists of metrics[24]   Q[;7]←0                                                                ⍝we don't use year[25]   Q[;8]←(1⊃P),¨⊂'grids\mask'                                             ⍝mask grid[26]   Q←('base' ((2⊃P) PATH GRIDNAME 'postland') '' ((3⊃P),'iei') '' '' '' '')⍪Q⍝Add base scenario to top[27]   Q←'name' 'land' 'results' 'iei' 'deltas' 'metrics' 'year' 'mask'⍪Q     ⍝And labels[28]   head←'; scenarios.par, generated by CSE, ',NOW[29]   Q TMATOUT pathI,'scenarios.par'                                        ⍝Write scenarios.par[30]  [31]   NDROP F←,pathE,'finishS'[32]   csewait←1[33]  [34]   onerror←'debug'[35]   scenariosproject←'CSE(',(⍕5⊃P),')-scenarios'[36]  [37]   SCENARIOS                                                              ⍝Run scenarios[38]  [39]   LOG 'Waiting for SCENARIOS to finish...'[40]  L1:→(IFEXISTS F)/0                                                      ⍝Wait for SCENARIOS to finish[41]   T←⎕DL 10[42]   →L1    ∇