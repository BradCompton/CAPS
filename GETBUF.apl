    ∇ Z←GETBUF M;T[1]   ⍝Get block buffer size (in cells) for APL metric ⍵[2]   [3]   [4]    →((⍳1↑⍴T)=(T←'/' MATRIFY 'connectedness/similarity/microclimate alterations') MATIOTA TOLOWER M)/L1,L2,L3[5]   ⍝⎕ERROR 'Undefined metric in GETBUF'[6]    Z←0[7]    →0[8]   [9]   L1:Z←⌈bandwidth×search÷cellsize     ⍝Connectedness[10]   →0[11]  [12]  L2:Z←⌈(''⍴SEARCH D50,DS)÷cellsize   ⍝Similarity[13]   →0[14]  [15]  L3:Z←⌈(''⍴SEARCH classes[classes[;1]⍳⌈/values[;2];2 3])÷cellsize     ⍝Microclimate    ∇