    ∇ Z←CHECKPARS M;T;Q;A;B;buffer;fn;X;I;V;warn;W;call[1]   ⍝Checks the parameters of metric call ⍵, and return 1 if any errors[2]   ⍝Each metric function may a label 'check:' where parameters are checked[3]   ⍝Common constructs for check:[4]   ⍝   CHECKVAR 'vars'                 Gives warning if vars don't exist[5]   ⍝   CHECKVALUES 'key one two ...'   Makes sure that key is one of the named choices[6]   ⍝   CHECKFILE 'file'                Gives warning if file doesn't exist[7]   ⍝   CHECKCOVER 'table'              Gives warning for bogus cover types[8]   ⍝   'Message:' WARN test            Gives warning if test is nonzero[9]   ⍝Note that FRISK looks for input and settings grids separately, so no need for metrics to deal with this[10]  ⍝B. Compton, 28 Jan 2009[11]  [12]  [13]  ⍝ ⍎(0≠⎕NC'set')/'Z←⎕EX set'                  ⍝Clear parameters set by other metrics![14]  ⍝ ↑ This isn't okay, because it nails checkland parameter in FRISK when calling MIXMETRICS from POST.[15]   warn←1[16]   W←warnings[17]   READPARS fn←1⊃call←M                       ⍝Read metric-specific parameters[18]   X←(1=V ⎕SS 'check:')/⍳⍴V←⎕VR TOUPPER 1⊃M   ⍝Zero or more check: lines[19]   I←0[20]  L1:→((⍴X)<I←I+1)/L2                         ⍝For each check line,[21]   T←(¯1+T⍳⎕TCNL)↑T←(X[I]+5)↓V[22]  ⍝ ⎕ERROR (0∊⎕NC T)/'Undefined value: ',' 'MTOV (0=⎕NC T)⌿MATRIFY T      *** interferes with CHECKVALUE[23]   ⍎T[24]   →(warnings≡W)/L1                           ⍝If no errors, keep checking[25]  [26]  L2:Z←~warnings≡W                            ⍝Return 1 if any errors    ∇