    ∇ Y GRIDCREATE G;Z;C;R;Q;err;A;firstfail[1]   ⍝Create grid ⍵ of type ⍺ (1 = integer, 2 = real)[2]   ⍝B. Compton, 18 Feb 2009; E. Ene, 6 Feb 2009[3]   ⍝2 May 2011: set global gridwait for task manager[4]   ⍝13 Nov 2013: add grid server recovery[5]   [6]   [7]   [8]    Y←2↑Y[9]    →(0∊⍴G)/0[10]   →(aplc=1)/0                            ⍝If C version,[11]   →(3=⎕NC'GRIDCREATEc')/L1               ⍝   If not loaded,[12]   Q←⎕EX 'GRIDCREATEc'[13]   ⎕ERROR REPORTC 'DLL I4←CAPS_LIB.gridcreate(*C1,I4)' ⎕NA 'GRIDCREATEc'[14]  ⍝⎕←'CAPS_LIB.gridcreate loaded.'[15]  [16]  L1:A←⎕AI[2][17]  L3:err←GRIDCREATEc (G,⎕TCNUL) (Y[1])[18]   →(RECOVERY err)/L3         ⍝Wait for crashed grid servers to recover[19]   GRIDWAIT A[20]   ⎕ERROR REPORTC (1+err≠Y[2]×¯10017)⊃1 err          ⍝If ⍺[2], ignore grid already exists error    ∇