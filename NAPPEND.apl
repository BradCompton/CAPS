    ∇ X NAPPEND F;N;I;T[1]   ⍝Append ⍺ to dos file ⍵ (which must exist already)[2]   ⍝Modified 16 Feb 2006 to play nicely with Arc[3]   ⍝11 Apr 2011: tie in exclusive mode[4]   ⍝11 Apr 2011: This version puts newlines at the end, not beginning, to be compatible with R[5]   ⍝2 May 2011: try again a few times if error[6]   ⍝26 Oct 2015: report filename when there's an error[7]   [8]   [9]   [10]   I←0[11]   →(1≥⍴⍴X)/L1[12]   X←1↓MTOV X[13]  L1:T←⎕DL ¯1+2*¯1+I←I+1[14]  :Try[15]   F ⎕XNTIE (N←-1+0⌈⌈/|⎕XNNUMS),18[16]   X←('/',⎕TCNL,'/',⎕TCNL,⎕TCLF) TEXTREPL X  ⍝Use crlf for compatability[17]   X←X,⎕TCNL,⎕TCLF[18]   X ⎕NAPPEND N[19]   ⎕NUNTIE N[20]  [21]  :CatchAll[22]   ⍎(0=⎕NC'tries')/'tries←1'[23]   →(I<tries)/L1                    ⍝Try again tries times[24]   T←((-'.'=¯1↑T)↓T←FRDBL(¯1+⎕DM⍳⎕TCNL)↑⎕DM),': ',F[25]   ⎕ERROR T[26]  [27]  :EndTry    ∇