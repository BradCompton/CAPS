    ∇ Z←FINDTABLE M;S;X;I;pathI;Q;fn;Z[1]   ⍝Return landcover table data for metric ⍵ from current CAPS parameter file[2]   ⍝If ⍺, find name of table; otherwise get values[3]   ⍝Parameters are in global pars[4]   ⍝B. Compton, 23 Mar 2009, from READPARS[5]   [6]   [7]    pathI←pathM                    ⍝Local default for TABLE is metric parameters path[8]    X←VTOM ('.',⎕TCHT,'.') TEXTREPL ⎕TCNL,pars[9]    S←1↑(∨/(⍴X)⍴(,TOUPPER X) ⎕SS '[',(TOUPPER M),']')/⍳1↑⍴X[10]   ⎕ERROR (S=0)/'Metric [',(fn←M),'] not in parameters file'[11]   I←((X[;1]='[')/⍳1↑⍴X),1+1↑⍴X[12]   X←X[S+⍳(1↑(I⍳S)↓I)-S+1;][13]   ⍎(0=⎕NC'set')/'set←0 0⍴'''''[14]   X←VTOM REPLACESYM MTOV X[15]   X←(∨/¨(↓X) ⎕SS¨⊂'TABLE')⌿X[16]   Z←''[17]   →(0∊⍴X)/0[18]   Z←MIX FRDBL¨(⊂'.''.') TEXTREPL¨(-+/¨∨\¨¯5⌽¨(↓X) ⎕SS¨⊂'TABLE')↑¨↓X[19]   X←TABLE¨↓Z[20]   Z←(~^/¨,¨323=⎕DR¨¨X)⌿Z        ⍝Find the table we want (not all-numeric, e.g. edge classes)[21]   Z←,MIX (⊂pathM) PATH¨↓Z    ∇