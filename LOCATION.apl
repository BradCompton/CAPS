    ∇ Z←LOCATION A;Q;N[1]   ⍝Give scaled location score for cells outside of reserves given development[2]   ⍝⍵[1] = h for kernel; ⍵[2] = floor[3]   ⍝Globals: costs, donut[4]   [5]   [6]    Q←Q-FOCALMIN Q←res≠0       ⍝Edges of reserves[7]    Q←Q+dev×~Q                 ⍝Landscape for resistant kernel[8]    Z←(res=0)×A[1] KERNEL Q    ⍝Resistant kernel[9]    Z←Z÷⌈/,Z                   ⍝Scale to max[10]  [11]   N←(N[;2],0)[(N←((.5×⍴donut),2)⍴donut)[;1]⍳0,⍳8][12]   Z←Z+0⌈N[1+(res=0)×4 FOCALSUM res≠0]  ⍝Fill donut holes[13]  [14]   Z←Z×dev=0                  ⍝Zero-out development[15]  [16]   Z←A[2]+Z                   ⍝Apply floor    ∇