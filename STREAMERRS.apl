    ∇ STREAMERRS;Z;Q;X;head;D[1]   ⍝Find stream outflows and divergences[2]   ⍝   streamlines.txt      Statewide streamlines to look for outflow (nonvergence) and divergence errors[3]   ⍝B. Compton, 30 Jul 2010[4]   [5]   [6]    SETPATHS[7]    ⍞←'Reading vector data...' ⋄ FLUSH[8]    X←MATIN pathS,'streamlines.txt'[9]    ⎕←'done' ⋄ FLUSH[10]  [11]   ⎕←⎕TCNL,'Looking for outflows and divergences (this takes a few minutes...)' ⋄ FLUSH[12]   Q←(↓X[;3 4])∊↓X[;1 2][13]   Z←(~Q)⌿X[;3 4][14]   ⍞←'Found ',(⍕1↑⍴Z),' outflows.  Points written to ' ⋄ FLUSH[15]   head←'x-coord',⎕TCHT,'y-coord'[16]   Z TMATOUT ⎕←pathW,'outflows.txt'[17]   ⎕←'Look for outflows within state boundaries. These are errors (but may not matter; they may'[18]   ⎕←'just be overlapping lines).'[19]   ⎕←'' ⋄ FLUSH[20]  [21]   Q←X[⍋X;1 2][22]   D←(^/Q=1⊖Q)⌿Q                          ⍝List of divergences[23]   ⍞←'Found ',(⍕1↑⍴D),' divergences.  Points written to ' ⋄ FLUSH[24]   head←'x-coord',⎕TCHT,'y-coord'[25]   D TMATOUT ⎕←pathW,'divergences.txt'[26]   ⎕←'These are either legitimate divergences (e.g., flow around islands), or errors.'    ∇