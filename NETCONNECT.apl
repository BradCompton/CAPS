    ∇ A NETCONNECT S;N;S;C;D;Q;bandwidth;head;X;reps;I;Z;H[1]   ⍝Calculate regional connectivity for a number of landscapes[2]   ⍝B. Compton, 4 Mar 2013, from LINKTABLES[3]   [4]   [5]   ABANDONED[6]   NEEDS TO BE REWRITTEN[7]   [8]   [9]   [10]   READPARS ME[11]   SETPATHS[12]   N←0 1 TABLE pathQ,'tables\nodes.txt'           ⍝List of all nodes[13]   X←1 1 TABLE pathI PATH reps[14]   H←',' MATRIFY head[15]   X←X[;H MATIOTA 'repname'][16]   Z←(1↑⍴X)⍴0[17]   I←0[18]  L1:→((1↑⍴X)<I←I+1)/L2                           ⍝For each scenario,[19]   BREAKCHECK[20]   DOT[21]   C←MATIN pathQ,'tables\internode_',(I⊃X),'.txt' ⍝   List of internodes[22]  [23]  ⍝Build distance matrix[24]   D←((2⍴1↑⍴N)⍴0) SCATR (N[;1]⍳C[;1 2]) (C[;3])   ⍝   Distance matrix[25]   D←D+1E6×D=0                                    ⍝      Off-diagonal zeros are very big distances[26]   D←D×(⍳1↑⍴D)∘.≠⍳1↑⍴D                            ⍝      Diagonals are 0[27]   Q←bandwidth GAUSS D                            ⍝   Transform distances to probability[28]   Z[I]←N[;1 5] PC FLOYD Q                        ⍝   Fill out probability matrix and calculate P(C) for unmodified landscape[29]   →L1[30]  [31]  L2:Z←X,8 ROUND Z,[1.5]100×Z÷Z[1][32]   head←1↓⎕TCHT MTOV MATRIFY 'scenario connectivity rel_connectivity'[33]   Z TMATOUT pathQ,'results\connectivity.txt'[34]   →0[35]  [36]  [37]  [38]  [39]  what:auxiliary[40]  type:table[41]  info:('') ('') ('') (0)[42]  check:CHECKVAR 'targets bandwidth reps'    ∇