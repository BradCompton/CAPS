    ∇ BABYSIT;X;I;C;T;N;M;logfile;timestamp;aml;path;P;A[1]   ⍝Babysit buffer insults AML and restart when it crashes[2]   ⍝Requires babysit.exe (compiled AutoHotkey script) in windows path[3]   ⍝Works with special version of insults.aml (original is in insults_orig.aml)[4]   ⍝Test with babytest.aml[5]   ⍝I HATE ESRI[6]   ⍝B. Compton, 21 & 24 Mar 2008 and 16 Apr 2008[7]   [8]   [9]    path←'d:\capsma\work3\'            ⍝Path where running[10]   aml←'g:\aml\insultloop'            ⍝Name of aml[11]  [12]   logfile←'' ⋄ timestamp←1[13]   (PATH 'babysit.log') LOG 'Starting babysitter for makeinsults.aml'[14]   C←N←0[15]  L0:M←N[16]   ⎕←'Step #',⍕N[17]   T←⎕DL 120                          ⍝Sleep a bit - must be long enough for >1 step[18]   N←⎕FI LOWTOHIX NREAD PATH 'count.txt'[19]   →(N=¯1)/L9                         ⍝Done?[20]   →(N>M)/L0                          ⍝Advancing?  Good.[21]  [22]   ⍝Deal with stall[23]   LOG 'Restarting at step #',⍕N[24]   ⍝1 ⎕CMD 'babysit'                   ⍝Call AutoHotkey to kill process[25]   1 ⎕CMD 'pskill arc'                ⍝Kill Arc processes with pskill[26]   1 ⎕CMD 'pskill grid'               ⍝Kill Grid processes with pskill[27]  [28]   P←'&amlpath g:\aml\'[29]   P←P OVER '&r kill ',A←'zzwet2 zzwet2g zzwetb zzwetw zzwetbg zzring zzimp'[30]   P←P OVER MIX (⊂'rd '),¨↓MATRIFY A[31]   ((MTOV P),⎕TCNL,'&r ',aml,' ',(⍕N),⎕TCNL,'del arc.aml',⎕TCNL,'q') NWRITE PATH 'arc.aml'[32]   0 ⎕CMD (1↑path),': & cd ',path,' & arc.exe'                 ⍝Restart aml[33]   T←⎕DL 15                           ⍝Give it a while to get going[34]   →L0[35]  [36]  L9:LOG 'Wetland buffer insults run finished.'[37]   LOG '*** Don''t forget to run finishinsults.aml! ***'    ∇