    ∇ RUN ffile;∆T;∆I;∆X;⎕ALX;⎕SA;∆Q;warn;warnings;fn;null[1]   ⍝Run script in file ⍵[2]   ⍝Script files are ascii files (default .txt) with APL statements to run[3]   ⍝Optionally use = for ←, * for × (no exponentation!), and ; for comments[4]   [5]   [6]    ⎕SA←''[7]    ⎕ALX←'STOP'[8]    null←⍳0[9]    SETPATHS[10]   ⎕ERROR (~IFEXISTS ffile)/'*** Error: target file ',ffile,' does not exist.'[11]   →(IFEXISTS pathP)/L0           ⍝If parameter path doesn't exist yet,[12]   ⎕MKDIR ¯1↓pathP[13]  L0:(pathP PATH (STRIP ffile),'.log') LOG '--- Starting run of ',ffile,', ',NOW,' ---'[14]   SETBREAK[15]   ∆X←VTOM REPLACESYM NREAD ffile[16]   ∆I←0[17]   warn←1[18]   warnings←0 0⍴''[19]   fn←'RUN'[20]  L1:→((1↑⍴∆X)<∆I←∆I+1)/L2[21]   BREAKCHECK[22]   ∆T←∆X[∆I;][23]   ∆T←(^\∆T≠';')/∆T               ⍝Strip comments[24]   →(^/∆T=' ')/L1                 ⍝Comment[25]   →('@'=1⍴∆T)/L1                 ⍝Skip @directives -- these are for cluster run[26]   →(∆Q←'.'=1⍴∆T)/L3              ⍝If first character of line is ., run silently[27]  ⍝ LOG '/←/=/×/*' TEXTREPL ∆T[28]  L3:⍎∆Q↓∆T[29]   →L1[30]  L2:⍝⎕←'Script ',ffile,' finished.'    ∇