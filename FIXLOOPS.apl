    ∇ Z←X FIXLOOPS M;E;I;E;P;Q[1]   ⍝Iteratively call FLOWLOOPS to fix loop errors in flow grid ⍺ given change grid ⍵ after burning streams[2]   ⍝B. Compton, 5 and 10-11 Aug 2010[3]   [4]   [5]    BREAKCHECK[6]    X E ← X FLOWLOOPS M            ⍝Do an initial round, focusing on likely error points[7]    (P←E) WRITEI pathR PATH 'err1'[8]    LOG '⊢[',(⍕block[4 5]),'] FIXLOOPS, round 1. ',(⍕+/,E=2),' errors fixed, ',(⍕+/,E≥3),' errors couldn''t be fixed, including ',(⍕+/,E=4),' loops beyond streamlines.'[9]    I←1[10]  L1:BREAKCHECK[11]   I←I+1[12]   X E ← X FLOWLOOPS M×3          ⍝   Loop: keep fixing additional errors, looking at all streams.  Do this at least once.[13]   →(P≡E)/L9                      ⍝   If no change in error grid, we're done[14]   P←E[15]  ⍝ E WRITEI pathR PATH 'err',⍕I  ⍝WAS FOR DEBUGGING[16]   Q←+/3≤,(2⍴buffer)↓(-2⍴buffer)↓E[17]   LOG '⊢',,'[',(⍕block[4 5]),'] FIXLOOPS, round ',(⍕I),'. ',(⍕+/,Q=2),' errors fixed, ',(⍕+/,Q≥3),' errors couldn''t be fixed, including ',(⍕+/,Q=4),' loops beyond streamlines.'[18]   →(0<+/,E=2)/L1                 ⍝   Until nothing more fixed[19]  [20]  L9:Z←X E    ∇