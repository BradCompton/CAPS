    ∇ Z←MIXRIVER X;M;I;J;K[1]   ⍝Fill off-centerline river cells in ⍵ from nearest centerline[2]   ⍝Reads:[3]   ⍝   source\mixwater         Encoded mixwater targets (≤1 for ponds; >1 for rivers)[4]   ⍝B. Compton, 26-27 Aug 2014 (from MIXWATER)[5]   [6]   [7]   [8]    M←READ GRIDNAME pathG PATH 'mixwater'      ⍝Get mixwater grid,[9]    M←M×M=⌊M←0 MVREP M                         ⍝Drop all pond mixing[10]   Z←X[11]  [12]   I←0[13]  L3:→((1↑⍴X)<I←I+1)/0                        ⍝For each row,[14]   BREAKCHECK[15]   →(^/M[I;]=0)/L3                            ⍝   Skip this row if it's all missing[16]   J←0[17]  L4:→((1↓⍴X)<J←J+1)/L3                       ⍝   For each column,[18]   →(M[I;J]=0)/L4[19]   K←(I,J)+¯50+100 100⊤M[I;J]                 ⍝     Take value at nearest centerline.  Cell at offset.[20]   →((∨/K≤0)∨∨/K>⍴X)/L4                       ⍝     Skip this one if we're looking beyond the landscape[21]   Z[I;J]←X[K[1];K[2]]                        ⍝     Assign nearest centerline value to cell[22]   →L4    ∇