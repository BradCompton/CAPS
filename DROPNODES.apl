    ∇ DROPNODES W;N;T;C;D;Z;I;V;J;Q;S;R;E;head;U[1]   ⍝Assess the value of each node for network connectivity, given bandwidth(s) ⍵[2]   ⍝B. Compton, 15 Mar 2013 (from SINGLELINKS)[3]   ⍝[4]   [5]   [6]   [7]   OBSOLETE.  USE NODEOIMPORTANCE[8]   [9]   [10]   SETPATHS[11]   N←0 1 TABLE pathQ,'tables\nodes.txt'           ⍝List of all nodes[12]   N[;4]←(N[;4]≠¨'''') SLASHEACH N[;4]            ⍝Drop quotes left by Arc[13]   T←0 1 TABLE pathQ,'tables\nodevalues.txt'      ⍝and get IEI-weighted size of each node[14]   N[;5]←T[T[;4]⍳N[;1];5]                         ⍝which we'll use for node importance[15]  [16]   C←MATIN pathQ,'tables\distance.txt'            ⍝Read distance matrix[17]  [18]   Z←N[;⍳4],((1↑⍴N),2×⍴W←,W)⍴0[19]   I←0[20]  L2:→((⍴W)<I←I+1)/L9                             ⍝For each bandwidth,[21]   D←W[I] GAUSS C                                 ⍝   Transform distances to probability[22]   V←N[;1 5] PC D←FLOYD D                         ⍝   Fill out probability matrix and calculate P(C) for unmodified landscape[23]   U←(N[;,1],1) PC D                              ⍝   do it with all nodes the same value[24]  [25]   J←0[26]  L1:→((1↑⍴N)<J←J+1)/L2                           ⍝   For each node,[27]   Q←(÷V)×V-(N[;,1],N[;5]×J≠⍳1↑⍴N) PC D           ⍝      normalized delta P(C) × inflate given this node being dropped[28]   Q←Q,(÷U)×U-(N[;,1],J≠⍳1↑⍴N) PC D               ⍝      again, with all nodes being treated as equal[29]   Z[J;(1+⍳2)+I×2]←Q[30]   →L1[31]  [32]  L9:head←1↓⎕TCHT MTOV MATRIFY 'id centroid-x centroid-y name ',⊃,/' ',¨,⍉'nodevalue' 'relvalue'∘.,KNAMES W[33]   Z TMATOUT T←pathQ,'results\dropnodes.txt'[34]   ⎕←'Results written to ',T    ∇