    ∇ Z←THISBLOCK;B;E;I;J;K;L[1]   ⍝Return READBLOCK/WRITEBLOCK parameters for current block[2]   ⍝Also chatters if appropriate[3]   ⍝Global: block[4]   ⍝From READ 15 Jan 09[5]   [6]   [7]    Z←⍳0[8]    →(0=1↑block)/0                     ⍝If doing a block read,[9]    →(block[4]≠0)/L1                   ⍝   If this is first block,[10]   block[4 5]←1                       ⍝      Set I,J for first block[11]   block[6 7]←⌈WINDOW[2 1]÷block[1 2]      ⍝      Number of blocks in grid[12]   block[8 9]←1+block[1 2]|¯1+WINDOW[2 1]  ⍝      Size of last block[13]  [14]  L1:B←block[1 2]                     ⍝   block size[15]   E I J←block[3 4 5]                 ⍝   buffer, I, J[16]   K←block[6 7]                       ⍝   number of rows, cols[17]   L←block[8 9]                       ⍝   size of last block[18]   Z←(1+B×¯1+I,J),(B[1],L[1])[1+I=K[1]],(B[2],L[2])[1+J=K[2]],E[19]   →(noread∨~ifchat^firstblock)/0[20]   LOG (MODEL,YEAR),': Block ',(⍕I),',',(⍕J),' of ',(⍕K[1]),',',⍕K[2]    ∇