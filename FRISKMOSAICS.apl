    ∇ Z←FRISKMOSAICS X;I;T;Q;M;M_[1]   ⍝Frisk vector of mosaics ⍵ to make sure they're up-to-date with respect to source grids[2]   ⍝Result is a vector corresponding to ⍵, with[3]   ⍝   0 = mosaic is original, not derived[4]   ⍝   1 = mosaic is derived and up-to-date[5]   ⍝   2 = mosaic is out-of-date[6]   ⍝   3 = mosaic is derived, but source no longer exists[7]   ⍝   9 = name is not a mosaic[8]   ⍝B. Compton, 6 Sep 2013[9]   ⍝16 Dec 2013: use MOSAICINFO so we get a lock[10]  ⍝13 Jan 2014: also check for non-mosaics[11]  ⍝8 Sep 2014: look only at sta.adf, the grid statistics file, instead of the whole grid directory, to keep from being burned by[12]  ⍝   changes to metadata.xml and prj.adf due to grid copies, etc. in ArcMap[13]  ⍝10 Sep 2014: grandfather old mosaic dates to noon today[14]  ⍝4 Nov 2014: grandfathering clause was backwards[15]  ⍝5 Nov 2014: no it wasn't, but change it for clarity[16]  ⍝13 Feb 2015: remove grandfathering, as we've fixed mosiacs at the source (snow, snow, snow! more on the way)[17]  [18]  [19]  [20]   Z←(⍴X←,X)⍴0[21]   I←0[22]  L1:→((⍴X)<I←I+1)/0           ⍝For each mosaic,[23]   M M_ ← MOSAICINFO I⊃X[24]   :if 0=⍴M[25]      Z[I]←9[26]   :elseif (⊃M[M_ COL 'type'])≡'derived'[27]      :if 0∊⍴Q←FILEINFO (⊃M[M_ COL 'source']),'\sta.adf'[28]         Z[I]←3[29]      :else[30]         Z[I]←(1+^/(PARSEDATE 2⊃Q)=PARSEDATE ⊃M[M_ COL 'sourcetimestamp'])⊃2 1[31]      :end[32]   :end[33]   →L1    ∇