    ∇ CHECK_SCENARIOS;L;B;T;C;D;E;head[1]   ⍝Make sure metricmeans<scenarios>.csv are present for SCENARIOS and do other setup[2]   ⍝3 Jan 2012: don't check for metricmeans.csv, because METRICMEANS won't have been called yet[3]   ⍝20-21 Feb 2012: read scenarios.par's header too; correct path for metricmeans.csv[4]   [5]   [6]   OBSOLETE - WE DONT USE METRICMEANS.CSV ANY MORE[7]   [8]    change←'direct' 'indirect' 'both'⍳⊂TOLOWER change  ⍝What kind of change to look at?  Direct, indirect, or both?[9]    →(change=1)/0                                      ⍝No need for metricmeans if direct change only[10]   compare←TOLOWER compare[11]   scenarios←1 TABLE scenarios[12]   scenarios_←(',',⎕TCHT) MATRIFY '.".' TEXTREPL head ⍝Get header[13]  [14]   T←,scenarios ⋄ T[(T≡¨MV)/⍳⍴T]←⊂'' ⋄ scenarios←(⍴scenarios)⍴T[15]   L←MIX⊃¨(GRIDNAME 'land') MAKENAMES scenarios[;1]   ⍝Landcover grid names for each scenario[16]   B←(⍳1↑⍴L)∘.<⍳1↑⍴L                                  ⍝Upper triangle[17]   T←(1,[1.5]1↓⍳1↑⍴L) ((¯1↓⍳1↑⍴L),[1.5]1↓⍳1↑⍴L) ((,B)⌿(,⍉T),[1.5],T←(2⍴1↑⍴L)⍴⍳1↑⍴L)[18]   C←(('base' 'paired' 'full'⍳⊂compare)⊃T)[;1]        ⍝Base from comparisons (base, paired, or full)[19]   D←STRIPPATH¨scenarios[;scenarios_ COL 'land'][20]   D←((D⍳D)=⍳⍴D)/D←D[C]                               ⍝Unique bases[21]   E←D,¨⊂'metricmeans.csv'                            ⍝metricmeans.csv, from METRICMEANS[22]   →metricmeans/0                                     ⍝If expecting to use existing metricmeans,[23]   CHECKFILE¨E                                        ⍝   Check for it    ∇