    ∇ LCD_IMPORTANCE;X;H;head;F;X2;H2;Q[1]   ⍝Update nodeimportance.txt, linkimportance.txt, and linkimportance_rel.txt for LCD format[2]   ⍝Uses current pathQ (CLII path)[3]   ⍝Adds ieiRank to node importance and rearranges and renames fields[4]   ⍝Writes node importance data to nodes.txt[5]   ⍝Joins linkimportance_rel (if it exists) to linkimportance,[6]   ⍝adds ranks, rearranges, and renames fields[7]   ⍝Writes link importance data to links.txt[8]   ⍝B. Compton, 23 Mar 2015[9]   [10]  [11]   SETPATHS[12]   Q←pathQ,'results\'[13]  [14]  ⍝First, do node importance[15]   X H ← GETTABLE Q,'nodeimportance.txt'[16]   X←X,RANK X[;H COL 'iei'][17]   H←H OVER 'ieiRank'[18]   X←X[;H COL 'id centroid-x centroid-y iei ieirank import10k rank10k relat10k relrank10k'][19]   H←MATRIFY 'coreID centroidX centroidY ieiSum ieiRank import importRank relImport relImpRrank'[20]   head←1↓⎕TCHT MTOV H[21]   X TMATOUT Q,'nodes.txt'[22]   [23]  ⍝Now, link importance[24]   X H ← GETTABLE Q,'linkimportance.txt'[25]   X←X,RANK X[;H COL 'import10k'][26]   H←H OVER 'importrank'[27]   X←X[;H COL 'id node1 node2 import10k importrank'][28]   H←MATRIFY 'linkID node1 node2 import importRank'[29]  [30]  [31]  ⍝Bring in relative link importance if it exists[32]   :if IFEXISTS F←Q,'linkimportance_rel.txt'[33]      X2 H2 ← GETTABLE F[34]      X←X,X2[;H2 COL 'relimport10k'][35]      H←H OVER MATRIFY 'relImport relImpRank'[36]      X←X,RANK X[;H COL 'relimport'][37]   :end[38]   head←1↓⎕TCHT MTOV H[39]   X TMATOUT Q,'links.txt'[40]  [41]   ⎕←'Results have been written to ',Q,'nodes.txt and links.txt.'    ∇