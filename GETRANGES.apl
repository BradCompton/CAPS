    ∇ A GETRANGES S;X;I;Z;head;where;Q[1]   ⍝Get ranges for settings variables in model\settings.par[2]   ⍝Runs as a CAPS block metric, but only on 1 process[3]   ⍝Inputs (in source\):[4]   ⍝   <grids>                     Result grids[5]   ⍝   model\settings.par          List of grids to process, with mixtype in second column[6]   ⍝Results (in tables\):[7]   ⍝   scalesettings.txt           Grid name, min, and max[8]   ⍝*** NOTE: when running separately for many study areas (e.g. in LCC), need to combine[9]   ⍝    into a single scalesettings.txt with shared values.[10]  ⍝B. Compton, 10-13 Sep and 12 Oct 2010[11]  ⍝22 Dec 2011: substitute grid names from names.par[12]  ⍝9 Jan 2014: get settings grids from settings.par, not mixsettings.par[13]  ⍝15 Mar 2014: keep grid names from settings.par for table[14]  [15]  [16]  [17]   READPARS ME[18]   X←(TABLE 'settings')[;1][19]   Z←((⍴X),2)⍴0[20]   I←0[21]  L1:→((⍴X)<I←I+1)/L2                         ⍝For each grid,[22]   Z[I;]←(1 GRIDDESCRIBE pathN PATH GRIDNAME I⊃X)[8 9]   ⍝   get min and max[23]   →L1[24]  [25]  L2:Q←'; scalesettings.txt'[26]   Q←Q,⎕TCNL,'; This file has original range of settings variables'[27]   Q←Q,⎕TCNL,'; Created by GETRANGES for SCALESETTINGS as part of MAKESETTINGS,'[28]   Q←Q,⎕TCNL,'; and used by SETTINGS, etc. to rescale from 0 to 1'[29]   head←Q,(2⍴⎕TCNL),1↓⎕TCHT MTOV MATRIFY'variable min max'[30]   Z←(STRIP¨X),Z[31]   Z TMATOUT pathT,'scalesettings.txt'        ⍝Write to model\; it gets used by CONNECT and LINKAGES[32]   →0[33]  [34]  what:data prep[35]  type:standard[36]  info:('') ('') ('') (0) 'luwet'[37]  check:CHECKVAR 'where'    ∇