    ∇ Z←FILEINFO F;Q;D;S;E;err;A[1]   ⍝Return size (in MB) and modification date (in NOW format) of file ⍵, and free space on disk (in MB)[2]   ⍝If ⍵ is a directory (or file containing wildcards), give total size and most recent date[3]   ⍝If ⍵ doesn't exist, returns ⍳0[4]   ⍝Result: [5]   ⍝   [1] size of grid/directory (MB)[6]   ⍝   [2] modification date[7]   ⍝   [3] free space on drive (MB)[8]   ⍝WARNING WARNING WARNING!!!! This gives 'system' time, not 'local' time, so it'll disagree with the date you get from[9]   ⍝Explorer or ⎕TS if you change time zones or daylight savings time![10]  ⍝NOTE NOTE NOTE: directory sizes are NOT recursive[11]  ⍝Stopgap APL version - we'll get C version from Edi soon[12]  ⍝B. Compton, 3 Sep 2013[13]  ⍝5 Sep 2013: give free space too[14]  ⍝6 Sep 2013: return ⍳0 if it doesn't exist[15]  ⍝16 Sep 2013: add Edi's C++ version. It doesn't work.[16]  ⍝1 Oct 2013: new vesion from Edi works[17]  ⍝1 Nov 2013: drop milliseconds[18]  ⍝23 Jan 2014: Oops: Edi's version gives 24-hour time. Push it into am/pm format.[19]  ⍝27 Nov 2017: was returning '', not ⍳0 if file wasn't found[20]  [21]  [22]  [23]   →(aplc=1)/L2                                       ⍝If C++ version,[24]   →(3=⎕NC'FILEINFOc')/L1                             ⍝   If not loaded,[25]   Q←⎕EX 'FILEINFOc'[26]   ⎕ERROR REPORTC 'DLL I4←CAPS_LIB.fileinfo(*C1,*C1←,*F8←,*I4←)' ⎕NA 'FILEINFOc'[27]  [28]  L1:D S A ← ((50⍴' '),⎕TCNUL) 123.456 123456[29]   err←1↑Z←FILEINFOc ((FRDBL F),⎕TCNUL) D S A[30]   :if err∊¯861 ¯865 ¯866                             ⍝If file not found,[31]      Z←⍳0[32]      →0[33]   :end[34]   ⎕ERROR F REPORTC err[35]   Z←Z[3 2 4][36]   Z[2]←⊂¯4↓FRDBL (⎕TCNUL≠2⊃Z)/2⊃Z[37]   Z[2]←⊂UNPARSEDATE PARSEDATE 2⊃Z                    ⍝Push dates into am/pm format[38]   →0[39]  [40]  [41]  L2:Z←⍳0 ⋄ →(~IFEXISTS F)/0                          ⍝Else, APL version[42]   Z←3 ⎕CMD 'dir ',F,' /-c /t:W /4 > ',Q←'zzname',(FRDBL 15 0⍕?1E15),'.tmp'[43]   Z←NREAD Q[44]   NDROP Q[45]   Z←VTOM ⎕TCNL,Z[46]   E←Z[''⍴1↑⍴Z;][47]   E←1E¯6×''⍴⎕FI E[23↓⍳39][48]   Z←5 0↓¯2 0↓Z[49]   Z←(~(⊂'<DIR>')≡¨↓(LJUST Z[;21↓⍳39])[;⍳5])⌿Z        ⍝Drop directory rows - this sometimes gives date it was copied, not actual modification date[50]   D←↑PARSEDATE¨↓Z[;⍳21][51]   D←UNPARSEDATE D[(⍒D)[1];]                          ⍝Take most recent modification date[52]   S←1E¯6×+/⎕FI,' ',Z[;21↓⍳39]                        ⍝Give sum of size[53]   Z←S D E    ∇