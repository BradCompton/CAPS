    ∇ Z←GRIDTYPE G;Q;err;A;firstfail[1]   ⍝Give type of grid ⍵ (0 = does't exist, 1 = integer, 2 = real)[2]   ⍝B. Compton, 16 Jan 2009; E. Ene, 6 Feb 2009[3]   ⍝2 May 2011: set global gridwait for task manager[4]   ⍝13 Nov 2013: add grid server recovery[5]   [6]   [7]   [8]    →(aplc=1)/L9                       ⍝If C version,[9]    →(3=⎕NC'GRIDDESCRIBEc')/L1         ⍝   If not loaded,[10]   Q←⎕EX 'GRIDDESCRIBEc'[11]   ⎕ERROR REPORTC 'DLL I4←CAPS_LIB.griddescribe(*C1,*I4←,*I4←,*F8←,*F8←,*F8←,*I4←,*F8←,*F8←,*F8←,*F8←)' ⎕NA 'GRIDDESCRIBEc'[12]  ⍝⎕←'CAPS_LIB.griddescribe loaded.'[13]  [14]  L1:A←⎕AI[2][15]  L3:err←1↑Z←GRIDDESCRIBEc (⊂G,⎕TCNUL),10⍴0[16]   →(RECOVERY err)/L3         ⍝Wait for crashed grid servers to recover[17]   GRIDWAIT A[18]   ⎕ERROR REPORTC (1+err≠¯10007)⊃1 err[19]   Z←Z[7][20]   →0[21]  [22]  L9:⍝No APL version.    ∇