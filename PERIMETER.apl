    ∇ Z←C PERIMETER X;L;KK;Y;P;B[1]   ⍝Calculate perimeter and area of patches denoted by 1's in matrix ⍵ given cellsize ⍺ (default = CELLSIZE)[2]   ⍝Return (matrix of patch #, perimeter, area) (matrix of patch # corresponding to ⍵)[3]   ⍝B. Compton, 2 Mar 2012[4]   [5]   [6]    ⍎(0=⎕NC'C')/'C←CELLSIZE'[7]    L←X×+⌿~(0,0 ¯1↓X)⍪(0 1↓X,0)⍪(0⍪¯1 0↓X),[.5]1 0↓X⍪0[8]    KK←8 2⍴¯1 0 1 0 0 ¯1 0 1 ¯1 ¯1 1 1 ¯1 1 1 ¯1[9]    Y←((,X)/,P←FINDPATCH X),[1.5](,X)/,L[10]   Y←Y[⍋Y[;1];][11]   Z←(B/Y[;1]),[1.5]C×(B←Y[;1]≠0,¯1↓Y[;1]) pSUM Y[;2][12]   Z←Z,(C*2)×B pSUM (⍴B)⍴1[13]   Z←Z P    ∇