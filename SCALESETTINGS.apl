    ∇ A SCALESETTINGS S;G;I;buffer;X;where;H[1]   ⍝Rescale settings variables in model\mixsettings.par[2]   ⍝Runs as a CAPS block metric.[3]   ⍝Inputs (in source\):[4]   ⍝   <grids>                     Result grids[5]   ⍝   model\mixsettings.par       List of grids to process, with mixtype in second column[6]   ⍝   scalesettings.txt           Grid name, min, and max[7]   ⍝Results (in grids\settings\):[8]   ⍝   <grids>                     Result grids[9]   ⍝B. Compton, 10-17 Sep and 12 Oct 2010[10]  [11]  [12]  OBSOLETE. WE NOW SCALE SETTINGS GRIDS ON THE FLY[13]  [14]  [15]   READPARS ME[16]   buffer←0[17]   G←MIXWATERGRIDS 'M'[18]   H←MIXWATERGRIDS 'R'[19]   S←MATIN pathI,'scalesettings.txt'[20]   ⎕ERROR (~S[;1]≡STRIP¨G)/'SCALESETTINGS has a grid name mismatch from GETRANGES!'[21]  [22]   I←0[23]  L1:→((⍴G)<I←I+1)/0                      ⍝For each settings grid,[24]   BREAKCHECK[25]   X←READ I⊃G                             ⍝   read it[26]   →(^/,X=MV)/L1                          ⍝   skip if all missing[27]   X←MVREP ((X-S[I;2]) DIV S[I;3]-S[I;2]) (X=MV)   ⍝   rescale it[28]   X WRITE I⊃H                            ⍝   and write it.  Simple enough?[29]   →L1[30]  [31]  [32]  type:standard[33]  infoX:('') ('') ('') (0) 'luwet'[34]  check:CHECKVAR 'where'    ∇