    ∇ A JETTIES S;H;D;Z;I;T;search;self;bandwidth;buffer;B;J;D;K;L;Y;self;X;Q;jetties;resist;V;resist[1]   ⍝CAPS beach-hardened structures metric[2]   ⍝B. Compton, 11 Feb 2010, from DITCHES[3]   ⍝6 May 2010: look up resist properly; 13 Dec 2010: revised for CAPS 3.0[4]   ⍝2-3 Mar 2011: use resistant kernel[5]   [6]   [7]   [8]    READPARS ME[9]    buffer←B←4⊃A[10]   Z←0×X←READ 1⊃1⊃A                       ⍝Get landcover[11]   →(0∊⍴Y←S INCLUDE X)/L1                 ⍝Which cells to run for?[12]   D←0 MVREP READ pathG PATH 2⊃1⊃A        ⍝Read structures[13]   D←(jetties[;2],0)[jetties[;1]⍳D]       ⍝lookup resist in jetties table[14]  [15]   V←LOOKUP resist                        ⍝Get resistance values set by cover type, not ecolgical distance[16]   V←(V⍪1)[V[;1]⍳X;2]                     ⍝Cover types not on list get no resistance[17]   D←D×V=1                                ⍝Ignore structures not lapping water and beaches - otherwise get flow across on Plymouth Beach, for example[18]  [19]   Z←bandwidth RKERN D V                  ⍝Build structure kernels[20]  [21]   Z←(-T)↓(T←.5×(⍴Z)-⍴D)↓Z[22]  L1:(X REMV Z) WRITE pathR PATH 3⊃A[23]   →0[24]  [25]  what:CAPS coastal[26]  type:standard[27]  info:('land' 'structures') ('') ('jetties') (⌈bandwidth×search÷cellsize) 'include'      ⍝Source grid, settings table, result grid, buffer size, and include grid[28]  check:CHECKVAR 'bandwidth search jetties resist'[29]  check:CHECKCOVER 'resist'    ∇