    ∇ BEGIN;A;I;X;F;Q[1]   ⍝Initialize CAPS workspace and launch a run if called for[2]   [3]    ⎕←'>>>'[4]    ⎕←'>>>  CAPS: Conservation Assessment and Prioritization System'[5]    ⎕←'>>>'[6]    ⎕←'>>>  Version ',LJUST 3⍕version[7]    ⎕←'>>>'[8]    ⎕←''[9]   [10]   ⎕ELX←'⎕DM'[11]   ⎕RL←+/⎕TS[12]   ⎕SYS[18]←20            ⍝Make break more responsive[13]  [14]   framework←'caps'[15]   gridinitcount←0        ⍝Start counter for local .GRIDINITs[16]  [17]   →(⎕AI[1]≤0)/L1         ⍝If called with positive user number,[18]   :if ~IFEXISTS F←((+/∨\⌽⎕WSID=':')↑⎕WSID),Q←'\anthill\capslaunch\capsrun.txt'   ⍝Try current workspace drive first,[19]      F←((+/∨\⌽path=':')↑path),Q                                                  ⍝   failing that, try path drive (failing that, give an error)[20]   :end[21]   X←0 MATIN F[22]   I←X[;1]⍳⎕AI[1][23]   path←⊃X[I;2]           ⍝   get base path from anthill\capsrun.txt[24]  [25]  L1:⎕ERROR (⎕SYS[12]≠1)/'Error: aplw.ini wasn''t read properly.',⎕TCNL,'   Make sure Properties > Target of the APL shortcut reads "C:\APLWIN10\aplw.exe c:\aplwin60\aplw.ini"',⎕TCNL,'   and make sure you have the correct version of aplw.ini.'[26]  [27]   A←(~(TOLOWER pathdir)≡'paths.par')/'''',pathdir,''' '[28]   ⎕←'' OVER ('      ',A,'SETPATH ''',path,'''     ⍝ Current root path',(~0∊⍴A)/' (*** and nonstandard path directory)') OVER ''[29]   →(⎕AI[1]≤0)/0          ⍝If called with positive user number,[30]   CAPS                   ⍝   launch CAPS (setting paths)[31]   ⎕SA←'OFF'              ⍝   exit from APL, returning control to calling system[32]   ∆CLEANUP    ∇