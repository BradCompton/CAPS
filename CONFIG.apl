    ∇ CONFIG;F;Q;D;T[1]   ⍝Set parameters from config.txt or use defaults if it doesn't exist[2]   ⍝B. Compton, 5 May 2011[3]   ⍝22 Aug 2011: sleep interval now floats with the number of threads; sleep is mean return interval for threads checking in[4]   ⍝16 May 2012: add rworkspace[5]   ⍝25 Jan 2013: add lockserver[6]   ⍝12 Feb 2013: only config if new directory; 14 Feb 2013: add namestrip[7]   ⍝23 Jul 2013: add lockpause (was lockwait until 17 Apr 2014)[8]   ⍝23 Oct and 4 Nov 2013: don't trap errors if under DEBUG[9]   ⍝14 Nov 2013: add scramblesubtasks[10]  ⍝27 Jan 2014: don't create missing config.txt; that happens in ANTINIT; 31 Jan: yeah, but don't fucking localize it![11]  ⍝31 Jan 2014: add maxlocalgridinit; 5 Feb 2014: add webpath[12]  ⍝27 Mar 2014: add rflags[13]  ⍝9 Apr 2014: add maxsubtasks[14]  ⍝31 Jan 2017: add cachetimeout[15]  [16]  [17]   →(pathA≡anthilldir)/0[18]  [19]  ⍝Set default parameters[20]   defaults←'sleep tries iftrap rpath aplpath aplworkspace rpath rflags rworkspace uselockserver lockserver lockport namestrip recoverservers maxrecovery scramblesubtasks maxlocalgridinit webpath maxsubtasks'[21]  [22]   ⍎(0=⎕NC'iftrap')/'iftrap←1'[23]   sleep←3                                        ⍝Mean response time for system[24]   tries←5                                        ⍝Retry file operations 5 times to catch transient file system errors[25]   aplpath←'c:\APLWIN10\aplw.exe'[26]   aplworkspace←'x:\anthill\anthill.w3'           ⍝Path to APL cluster workspace[27]   rpath←'"c:\Program Files\R\R-2.12.0\bin\i386\Rgui.exe"'[28]   rworkspace←'x:\anthill\anthill.RData'          ⍝Path to R cluster workspace[29]   rflags←'--sdi --no-restore --max-mem-size=1610612736  --no-save'[30]   webpath←'x:\FTP\web\Anthill\'[31]   uselockserver←1[32]   lockserver←'umanrcl00'[33]   lockport←3340[34]   locktimeout←1800[35]   lockpause←0.1[36]   threadlimit←0[37]   namestrip←''[38]   recoverservers←15[39]   maxrecovery←240[40]   scramblesubtasks←1[41]   maxlocalgridinit←500[42]   maxsubtasks←1000[43]   cachetimeout←60[44]  [45]  :try[46]   tries←5[47]   ('Error in ',F,': ') SETPARS NREAD F←pathA,'config.txt'    ⍝Set parameters from config file[48]  [49]  :catchall[50]    ⎕←'Anthill config file ',F,' doesn''t exist; using defaults.'[51]    Q←⍎¨D←FRDBL¨↓MATRIFY defaults                 ⍝   if config.txt doesn't exist, use defaults[52]  [53]  :endtry[54]  [55]   name←GETNAME[56]   lockport LOCKINIT lockserver[57]   anthilldir←pathA[58]  [59]   iftrap←iftrap^~1∊(,⎕SI)⎕SS 'DEBUG'             ⍝Don't trap errors in tasks if called by DEBUG    ∇