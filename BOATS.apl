    ∇ A BOATS S;D;Z;T;search;self;bandwidth;buffer;B;D;Y;X[1]   ⍝CAPS boat traffic metric[2]   ⍝Data source: caps_boat_traffic_111914.tif, from Marc Carullo, 19 Nov 2014.[3]   ⍝Data derivation:[4]   ⍝   setwindow \caps\grids\dem[5]   ⍝   boats = resample(float(boats250), 30, bilinear)[6]   ⍝B. Compton, 26 Jan 2015 (Huge nor'easter on its way!)[7]   ⍝22 Jul 2015: clip input metric to places boats can actually go[8]   [9]   [10]  [11]   READPARS ME[12]   buffer←B←4⊃A[13]   Z←0×X←READ 1⊃1⊃A                       ⍝Get landcover[14]   →(0∊⍴Y←S INCLUDE X)/L3                 ⍝Which cells to run for?[15]   D←0 MVREP READ pathG PATH 2⊃1⊃A        ⍝Read boat traffic grid[16]   D←D×X∊0 ¯1↓LOOKUP 1,[1.5]↓',' MATRIFY 'ocean,water (lotic),water (lentic)'[17]   Z←(⍴D)⍴0                               ⍝Make sure we're writing zeros where no traffic[18]   Z←bandwidth KERN D                     ⍝Build boat traffic kernels[19]   Z←(-T)↓(T←.5×(⍴Z)-⍴D)↓Z[20]  L3:(X REMV Z) WRITE pathR PATH 3⊃A[21]   →0[22]  [23]  [24]  [25]  what:CAPS coastal[26]  type:standard[27]  info:('land' 'boats') ('') ('boats') (⌈bandwidth×search÷cellsize) 'include'      ⍝Source grid, settings table, result grid, buffer size, and include grid[28]  check:CHECKVAR 'bandwidth search'    ∇