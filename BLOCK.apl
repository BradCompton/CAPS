    ∇ BLOCK N;I[1]   ⍝Initialize block reading and writing for READ and WRITE[2]   ⍝Called by script within RUN[3]   ⍝⍵ = block size (rows and cols, in cells), edge buffer[4]   ⍝Sets global block[5]   ⍝   block[1]  block size in rows[6]   ⍝   block[2]  block size in cols[7]   ⍝   block[3]  edge buffer (in cells)[8]   ⍝   block[4]  I (0 before 1st block read)[9]   ⍝   block[5]  J[10]  ⍝   block[6]  number of row blocks[11]  ⍝   block[7]  number of column blocks[12]  ⍝   block[8]  rows in last block[13]  ⍝   block[9]  cols in last block[14]  ⍝   block[10] line number of BLOCK statement in RUN (used by Habit@ for looping over years)[15]  ⍝   block[11] block number, set by HABGEN, NEXTBLOCK, and BLOCKREPS[16]  ⍝   block[12] total number of blocks, set by BLOCKRUN and BLOCKREPS[17]  ⍝All grids must be exactly the same size or very bad things will happen[18]  ⍝Coordinated block stuff happens in RUN, READ, SAVE, WRITE, and END[19]  ⍝Most of the action happens in READ (which must be done before first SAVE)[20]  ⍝From BIG (B. W. Compton, 13 Nov 2003), 2 Mar 2004[21]  ⍝23 May 2011: make ii optional[22]  [23]  [24]  [25]   ⍎((I←0)≠⎕NC'I')/'I←ii'             ⍝Get ii parameter if called from Habit@[26]   block←(3↑N),(6⍴0),I,1,0[27]   firstblock←1[28]   blockid←'aaa'[29]   →(~1∊(,⎕SI)⎕SS'TIMETEST')/L1       ⍝If called from TIMETEST,[30]   block[1 2]←testblock[31]   test←1[32]  L1:time←⎕AI[2]    ∇