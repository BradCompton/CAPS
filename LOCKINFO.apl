    ∇ Z←LOCKINFO;X;I;L;Q[1]   ⍝Return info on all currently live locks[2]   ⍝Returns a matrix of lock name, lock holder, and time held for all current locks on server[3]   ⍝B. Compton, 4 Mar 2013[4]   ⍝27 Jun 2013: only give live locks.  Use LOCKINFO_ALL to get all locks, including previously used ones[5]   ⍝5 Dec 2013: work properly with empty list[6]   ⍝8 Nov 2017: sort by longest held & trim to fit in window[7]   [8]   [9]   [10]   CONFIG[11]   X←(~0∊⍴X)⌿X←LOCKNAMES[12]   Z←((↓X),[1.5]0),0[13]   I←0[14]  L1:→((1↑⍴X)<I←I+1)/L2[15]   Z[I;2 3]←LOCKSTATUS X[I;][16]   →L1[17]  [18]  L2:Z←(Z[;3]≠0)⌿Z[19]   Z[;1 2]←FRDBL¨Z[;1 2][20]   Z←Z[⍒Z[;3];][21]   [22]   →(0∊⍴Z)/0[23]   L←⊃,/(⍴¨Z[;1])>Q←((⊃⌈/⍴¨Z[;1])-3+(⍴⍕Z)[2]-⎕PW)         ⍝Trim to fit in window[24]   Z[;1]←FRDBL¨(Q↑¨Z[;1]),¨↓3/((1↑⍴Z),1)⍴' .'[L+1]    ∇