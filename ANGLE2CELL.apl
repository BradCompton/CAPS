    ∇ Z←S ANGLE2CELL A;Q;I;P;Y[1]   ⍝Convert angle ⍵ (degrees) to 8-neighbor cell probabilities (row-major order) with strength ⍺[2]   ⍝Strength ranges from 0 (all directions have equal probability) to 1 (only 1 or 2 cells have nonzero probability)[3]   ⍝B. Compton, 7-10 Dec 2012[4]   [5]   [6]   [7]    Z←8⍴÷8[8]    →(A=¯1)/0                  ⍝If angle is ¯1, don't have an angle[9]    Q←.1×10000*(1-S)*2         ⍝Rescale strength[10]   Y←(.5×⊃+/((-⌊A+¯.5 .5)⌽¨⊂0 Q ZDENSITY (180⌽¯181+⍳360)÷60))[1+315 0 45 270 90 225 180 135][11]   Z←Y÷+/Y    ∇