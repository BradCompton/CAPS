    ∇ Z←W CLIPVECTOR X;H;Q;J;Y;K[1]   ⍝Clip vector table ⍵[1] with header ⍵[2] to box ⍺ (xll yll xur yur)[2]   ⍝Return (data) (header)[3]   ⍝B. Compton, 28 Oct 2013[4]   [5]   [6]   [7]    X H ← X[8]    H←FRDBL¨↓',' MATRIFY TOLOWER H[9]    Q←'x-coord y-coord x.coord y.coord x y' 'from-x from-y to-x to-y or x1 y1 x2 y2' 'xmin ymin xmax ymax'[10]   Q←FRDBL¨¨↓¨MATRIFY¨Q[11]   J←(J≤⍴H)×J←(⊂H)⍳¨Q         ⍝Indices into headers in coordinates[12]   Y←⌈/(∨/¨J≠0)/⍳⍴J           ⍝Type: 1 = point, 2 = line, 3 = poly[13]   K←(K≠0)/K←Y⊃J              ⍝Columns with coordinates[14]   :if Y=1                    ⍝If points,[15]      Z←((^/X[;K]≥((1↑⍴X),2)⍴W[1 2])^^/X[;K]≤((1↑⍴X),2)⍴W[3 4])⌿X                                     ⍝   clip to box[16]   :else                      ⍝Else, lines or polys,[17]      Z←((^/(X[;K[1 2]]⌊X[;K[3 4]])≤((1↑⍴X),2)⍴W[3 4])^^/(X[;K[1 2]]⌈X[;K[3 4]])≥((1↑⍴X),2)⍴W[1 2])⌿X ⍝   clip to box[18]   :end[19]   Z ← Z H    ∇