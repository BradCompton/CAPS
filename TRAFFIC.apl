    ∇ A TRAFFIC S;B;R;Z;I;X;buffer;Y;Q;J;K;L;D;T;D50;DS[1]   ⍝Road traffic intensity metric[2]   ⍝⍺ = (traffic rate grid) () (result grid) (buffer)[3]   ⍝Paramters:[4]   ⍝   D50, DS     logistic parameters[5]   ⍝B. Compton, 29 Jan 2009, from DEVINT[6]   ⍝5 Oct 2010: use INCLUDE[7]   ⍝16 Nov 2010: We're using scaled log traffic, from the settings variable.  Thus, results are relative.  Okay?[8]   ⍝29 Jan 2011: set missing values in traffic grid to zero[9]   ⍝18 Aug 2011: Traffic is from Gibbs model, runs from 0 to 1[10]  [11]  [12]  [13]   READPARS ME[14]   buffer←B←4⊃A[15]   X←READ 1⊃1⊃A                               ⍝Get landcover[16]   →(0∊⍴Y←S INCLUDE X)/0                      ⍝Which cells to run for?[17]   R←0 MVREP READ 2⊃1⊃A                       ⍝and traffic grid[18]  [19]  L0:Z←(⍴X)⍴MV[20]   Q←B≥D←DIST 1+B×2[21]   D←Q×1-÷1+*(-(D×cellsize)-D50)÷DS           ⍝Logistic surface[22]  [23]   I←B[24]  L1:→(((1↑⍴X)-B)<I←I+1)/L3                   ⍝For each row,[25]   BREAKCHECK[26]   →(~∨/Y[I;])/L1                             ⍝   Skip empty rows[27]   J←B[28]  L2:→(((1↓⍴X)-B)<J←J+1)/L1                   ⍝   For each column,[29]   →(~Y[I;J])/L2                              ⍝      If we're doing this cell,[30]   K←((K≥1)^K≤1↑⍴X)/K←I+T←(⍳1+2×B)-B+1[31]   L←((L≥1)^L≤1↓⍴X)/L←J+T[32]  [33]   Z[I;J]←(+/,T←Q×R[K;L])÷+/,Q←0 MVREP D (X[K;L]=MV)[34]   EXAMPLE T[35]   →L2[36]  [37]  L3:(X REMV Z) WRITE pathR PATH 3⊃A[38]   →0[39]  [40]  what:CAPS stressor[41]  type:standard[42]  info:('land' (pathN PATH 'traffic')) ('') ('traffic') (SEARCH (D50,DS)÷cellsize) 'include'      ⍝Source grid, settings table, result grid, buffer size, and include grid[43]  check:CHECKVAR 'D50 DS'    ∇