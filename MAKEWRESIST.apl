    ∇ MAKEWRESIST;Y;C;Z;I;H;Q;X;landcover;M[1]   ⍝Make aquatic resistance reclassification tables for community-based runs of watershed metrics[2]   ⍝See Time of travel aquatic resistance.doc for instructions.[3]   ⍝B. Compton, from STOPGAP, 20 Mar 2009 (spring equinox)[4]   ⍝11 Feb 2011: update for CAPS 3.0; formerly known as RESIST[5]   ⍝16 Sep 2011: warning, not error, if missing landcover types[6]   [7]   [8]   [9]    SETPATHS[10]   landcover←TABLE landcoverpar[11]  [12]   Y←⍕¨(1 ⎕TCHT) MATIN pathW PATH 'resist.txt'[13]   H←MATRIFY 'roughness runoff'[14]   Y←Y[;1],(⎕FI¨0 1↓Y)+MV×~⎕VI¨0 1↓Y              ⍝Replace missing values (*) with MV[15]   Q←LOOKUP (⍳1↑⍴Y),Y[;,1][16]   Z←Q[;1],0 1↓Y[Q[;2];][17]   Z←Z[⍋Z[;1];][18]   Z←(⊃¨Z)+⊃¨MV×Z≡¨⊂⍳0                            ⍝and replace missing cells with MV[19]   Z←Z[;1],0 1↓Z×1+999×Z≠MV                       ⍝Multiply values by 1000[20]  [21]  [22]   M←(~landcover[;1]∊Z[;1])⌿landcover[;2]         ⍝missing landcover types[23]   →(0∊⍴M)/L0[24]   C←ifchat ⋄ ifchat←1[25]   LOG '*** Warning: landcover types missing from resistance table:'[26]   LOG MTOV ' ',' ',' ', (⎕PW-3) TELPRINT MIX M[27]   ⎕←''[28]  [29]  L0:⎕←'Writing files:'[30]   I←0[31]  L1:→((1↑⍴H)<I←I+1)/L2       ⍝For each output file,[32]   Q←(⊃,/Z[;I+1]≠MV)⌿Z[;1,I+1][33]   Q←MIX DEB¨↓(⍕Q[;,1]),' ',':',' ',⍕Q[;,2][34]   Q NWRITE FRDBL ⎕←' ',' ',' ',pathW PATH (FRDBL H[I;]),'.txt'[35]   →L1[36]  [37]  L2:⎕←'Now, in Arc, &r makewresist'    ∇