    ∇ Z←W PRETTY X;R;Q;B;P;T;M;I;J;N[1]   ⍝Partition table ⍵ (matrix or nested matrix) as several subtables, each of which fit page width ⍺[1] [default = ⎕PW][2]   ⍝Repeat first ⍵[2] columns in each subtable [default = 1][3]   ⍝B. Compton, 21-24 Jan 2014[4]   [5]   [6]   [7]    ⍎(0=⎕NC'W')/'W←⎕PW'[8]    W R ← 2↑W,1[9]    N←2                                ⍝Indent for when we're forced to wrap[10]  [11]   Z←''[12]  L1:Q←⊃,/⌈⌿⍴¨⍕¨X                     ⍝Repeat: width of each column[13]   Q←+\Q+0,(¯1+⍴Q)⍴1                  ⍝   Cumulative widths, including gutters (no gutter for first column)[14]   Z←Z,⊂(B←Q≤W)/X                     ⍝   Take first n columns[15]   →(^/B)/L2                          ⍝   If we're not done[16]   :if R≥+/B                          ⍝      If we did't pick up any new columns, we're in trouble....[17]      Z[⍴Z]←⊂W N WRAP FRDBL⍕X[;⍳R+1]  ⍝      so we'll have to wrap lines[18]      B←(1↓⍴X)↑(R+1)⍴1[19]   :end[20]   X←X[;⍳R],(~B)/X                    ⍝   Drop columns we used (except repeated columns)[21]   →(∨/~B)/L1                         ⍝and repeat[22]  [23]  L2:Z←FRDBL¨⍕¨Z                      ⍝Return vector of panes    ∇