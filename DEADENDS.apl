    ∇ A DEADENDS S;X;Q;Y;R;S;I;size;U;KK8;Z;B;buffer;rate;N;pertile;M;head;J;segmentid;R_[1]   ⍝Find dead-end roads[2]   ⍝Source:[3]   ⍝   source\roadlines.txt  Road linework[4]   ⍝Result:[5]   ⍝   tables\deadends.txt     A table with segmentid, deadend.  Join this with roadlines.[6]   ⍝B. Compton, 1 Apr 2013[7]   [8]   [9]   [10]   R R_ ← LOAD pathS PATH 'roadlines.txt'  ⍝Get vector roads[11]   J←(TOUPPER head) MATIOTA MATRIFY 'X1 Y1 X2 Y2'[12]  [13]  ⍝ GET BLOCK COORDINATES     SEE ROADBLOBS[14]  ⍝ BUFFER THEM FAR ENOUGH[15]  ⍝ SNIP R[16]  [17]  [18]   Z←R[;,head MATIOTA segmentid],0[19]   :for I :in ⍳1↑⍴R                               ⍝For each road segment,[20]      Q←+/(R[;J[1 2]]^.=R[I;J[1 2]])∨(R[;J[1 2]]^.=R[I;J[3 4]])∨(R[;J[3 4]]^.=R[I;J[1 2]])∨R[;J[1 2]]^.=R[I;J[3 4]]    NOT QUITE[21]  [22]  [23]     IDENTIFY SEGMENTS WITH A TERMINAL POINT[24]     MARK THESE AS DEAD END[25]  [26]  [27]     AND SO ON.........[28]  [29]     TO TIRED TO DO THIS NOW.[30]  [31]  [32]  B[I]←2<+/R[J[1 2]^.=R[I;]                          ⍝   if more than 2 points here, it's an intersection[33]   :end[34]  [35]  [36]  [37]  [38]  [39]  [40]  ASDF[41]   →L1[42]  [43]  L2:ASDF[44]  [45]   →0[46]  [47]  [48]  [49]  what:data prep[50]  type:block[51]  info:('') ('') ('') (0) ''      ⍝Source grid, settings table, result grid, buffer size, and include grid[52]  check:CHECKVAR 'segmentid'    ∇