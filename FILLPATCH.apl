    ∇ I FILLPATCH J;L[1]   ⍝Recursively identify patch ⍺[1] of type ⍺[2] at ⍵[2]   ⍝Uses global KK (adjacent cells for 4- or 8-neighbor rule)[3]   [4]    →((∨/J<1)∨∨/J>⍴ZZ)/0      ⍝Out of bounds[5]    →(ZZ[J[1];J[2]]>0)/0      ⍝Already done[6]    →(XX[J[1];J[2]]≠I[2])/0   ⍝Different type[7]    ZZ[J[1];J[2]]←I[1][8]    L←0[9]   L1:→((1↑⍴KK)<L←L+1)/0      ⍝For each neighbor,[10]   I FILLPATCH J+KK[L;]      ⍝   Fill patch[11]   →L1    ∇